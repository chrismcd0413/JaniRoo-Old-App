<ion-app>
  <ion-menu side="start" menuId="first" contentId="main">
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Menu</ion-title>
        <ion-menu-toggle slot="end" menu="first">
          <ion-icon name="close-outline" size="large"></ion-icon>
        </ion-menu-toggle>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-menu-toggle>
          <ion-item
            button
            lines="none"
            [routerLink]="['/', 'dashboard']"
            routerLinkActive="active"
            routerDirection="root"
          >
            <ion-icon name="speedometer-outline" slot="start"></ion-icon>
            <ion-label>Dashboard</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle>
          <ion-item
            button
            lines="none"
            [routerLink]="['/', 'payment']"
            routerLinkActive="active"
            routerDirection="root"
          >
            <ion-icon name="cash-outline" slot="start"></ion-icon>
            <ion-label>Pay</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle>
          <ion-item
            button
            lines="none"
            [routerLink]="['/', 'schedule']"
            routerLinkActive="active"
            routerDirection="root"
          >
            <ion-icon name="calendar-outline" slot="start"></ion-icon>
            <ion-label>Schedule</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle>
          <ion-item
            button
            lines="none"
            [routerLink]="['/', 'chat']"
            routerLinkActive="active"
            routerDirection="root"
          >

            <ion-badge slot="end" *ngIf="unreadMessageCount > 0" id="message-badge" color="danger">{{ unreadMessageCount }}</ion-badge>
          <ion-icon name="chatbubbles" slot="start">
            </ion-icon>
            <ion-label>Chat</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle *ngIf="isInventoryEnabled">
          <ion-item
            button
            lines="none"
            [routerLink]="['/', 'inventory', 'loc']"
            routerLinkActive="active"
            routerDirection="root"
          >
            <ion-icon name="color-wand-outline" slot="start"></ion-icon>
            <ion-label>Submit Inventory</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-item>
          <iframe (load)="loadingFinished()" id="iframe" [src]="url" height="1px" width="1px" style="border:0;" scrolling="no">
          </iframe>
        </ion-item>
      </ion-list>
    </ion-content>
    <ion-footer class="ion-no-border">
      <ion-menu-toggle>
        <ion-item button lines="none" (click)="logout()">
          <ion-icon name="log-out-outline" slot="start"></ion-icon>
          <ion-label>Log Out</ion-label>
        </ion-item>
      </ion-menu-toggle>
    </ion-footer>
  </ion-menu>
  <ion-router-outlet id="main"></ion-router-outlet>
</ion-app>
